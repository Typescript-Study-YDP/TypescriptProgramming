# 4. í•¨ìˆ˜

### í•¨ìˆ˜ë¥¼ ì„ ì–¸í•˜ê³  í˜¸ì¶œí•˜ëŠ” 4ê°€ì§€ ë°©ë²•

```ts
// [1] ì´ë¦„ì„ ë¶™ì¸ í•¨ìˆ˜
function exam1() {}

// [2] í•¨ìˆ˜ í‘œí˜„ì‹
const exam2 = function () {};

// [3] í™”ì‚´í‘œ í•¨ìˆ˜
const exam3 = () => {};

// [4] í•¨ìˆ˜ ìƒì„±ì
const exam4 = new Function();
```

### 4ë²ˆì§¸ ë°©ë²•ì„ ì§€ì–‘í•´ì•¼í•˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œ?

- ë§¤ê°œë³€ìˆ˜ì™€ ë°˜í™˜ê°’ì˜ íƒ€ì…ì„ ì§€ì •í•´ì£¼ì§€ ëª»í•˜ë¯€ë¡œ, ì–´ë–¤í•œ ì¸ìˆ˜ë„ ê°€ëŠ¥í•˜ê¸°ì— íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ë„ì™€ì¤„ ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ì—†ë‹¤.

## ë§¤ê°œ ë³€ìˆ˜

### ì„ íƒì  ë§¤ê°œ ë³€ìˆ˜ì™€ ê¸°ë³¸ ë§¤ê°œë³€ìˆ˜

```ts
// í•¨ìˆ˜ì—ì„œ ì„ íƒì  ë§¤ê°œ ë³€ìˆ˜ëŠ” í•­ìƒ ë’¤ì— ì™€ì•¼í•œë‹¤.
// ê¸°ë³¸ ë§¤ê°œë³€ìˆ˜ë¥¼ ì„¤ì •í•´ì¤Œìœ¼ë¡œì„œ ì„ íƒì ìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆë‹¤.
function log(msg: string, userId = 'Not signed In') {
  console.log(msg, userId);
}

// ì•„ë˜ì™€ ì„ íƒí˜• ë§ˆí¬(ë¬¼ìŒí‘œ?)ì™€ í•¨ê»˜ ì„ íƒì ìœ¼ë¡œ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤.
type Context = {
  appId?: string;
  userId: string;
};
```

### ë‚˜ë¨¸ì§€ ë§¤ê°œë³€ìˆ˜ëŠ” ì–´ë–»ê²Œ ë°›ì„ ìˆ˜ ìˆì„ê¹Œ?

```js
// javascript
function sum() {
  return Array.from(arguments).reduce((acc, cur) => acc + cur, 0);
}
sum(1, 2, 3); // 6
```

```ts
// typescript

// spread ì—°ì‚°ìë¥¼ ì‚¬ìš©í•œë‹¤.
function sum(...numbers: number[]) {
  return numbers.reduce((acc, cur) => acc + cur, 0);
}
sum(1, 2, 3); // 6
```

## ()ì™¸ì˜ í•¨ìˆ˜ í˜¸ì¶œë°©ë²• 3ê°€ì§€

- call
- apply
- bind

> callê³¼ applyì˜ ì°¨ì´ëŠ” ë¬´ì—‡ì¼ê¹Œ?
>
> - callì€ ë‘ë²ˆì§¸ ì¸ìˆ˜ë¥¼ í¼ì¹˜ì§€ì•Šê³  ìˆœì„œëŒ€ë¡œ ì¸ìˆ˜ë¥¼ ì „ë‹¬í•˜ëŠ” ë°˜ë©´,
> - applyëŠ” ë‘ë²ˆì§¸ ë§¤ê°œ ë³€ìˆ˜ë¥¼ í¼ì³ í•¨ìˆ˜ì— ì „ë‹¬í•œë‹¤.

```js
// ì½”ë“œë¡œ í™•ì¸í•´ë³´ì!

function add(a, b) {
  return a + b;
}
add(a, d);
add.apply(null, [1, 2, 3]);
add.call(null, 1, 2, 3);
// bindëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì§€ì•Šê³  ë°˜í™˜í•˜ê¸°ì— ë§ˆì§€ë§‰ì— í˜¸ì¶œì„ í•´ì£¼ì–´ì•¼í•œë‹¤.
add.bind(null, 1, 2, 3)();
```

**call, apply, bindë¥¼ ì•ˆì „í•˜ê²Œ** ì‚¬ìš©í•´ì£¼ê¸° ìœ„í•´ì„  **strictBindCallApply** ì„¤ì •ê°’ì„ í™œì„±í™”í•´ì•¼í•œë‹¤.  
=> falseë¥¼ í•˜ê²Œë˜ë©´ ì–´ë–¤ ì¼ì´ ì¼ì–´ë‚ ê¹Œ?

## this

```ts
function lessFancyDate() {
  return this.getDate();
}

// ì—¬ê¸°ì„œì˜ thisëŠ” ì˜ˆì•½ì–´ì´ë‹¤.
// ë‹¤ë¥¸ ë§¤ê°œë³€ìˆ˜ì™€ ì™„ì „íˆ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤.
function fancyDate(this: Date) {
  return this.getDate();
}

lessFancyDate(); // ëŸ°íƒ€ì„ ì—ëŸ¬ ë°œìƒ
fancyDate(); // ì»´íŒŒì¼ ì—ëŸ¬ ë°œìƒ
```

## ì œë„ˆë ˆì´í„°ì™€ ë°˜ë³µì

- ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” ì—¬ëŸ¬ ê°œì˜ ê°’ì„ ìƒì„±
- function* ì²˜ëŸ¼ functionë’¤ì— (*)ì„ ë¶™ì—¬ì¤Œìœ¼ë¡œì„œ ì œë„ˆë ˆì´í„°ë¥¼ ì„ ì–¸
- ì´í„°ëŸ¬ë¸” ë°˜ë³µìê°€ ë°˜í™˜ë˜ê³ , yieldë¡œ ì›í•˜ëŠ” ê°’ì„ ë°˜í™˜
- ì˜êµ¬ì ìœ¼ë¡œ ê°’ì„ ìƒì‚°

> downleverIterationì„ ì‚¬ìš©í•˜ì—¬ ì»¤ìŠ¤í…€ ë°˜ë³µìë¥¼ ë¹„í™œì„±í™”í•˜ëŠ” ê²ƒì´ ë²ˆë“¤ ì‚¬ì´ì¦ˆë¥¼ ì¤„ì´ëŠ”ë° ì¢‹ë‹¤.

## í˜¸ì¶œ ì‹œê·¸ë‹ˆì²˜

```ts
// ì´ì™€ í•¨ìˆ˜ íƒ€ì… í‘œí˜„ ë°©ë²•ì„ í˜¸ì¶œ ì‹œê·¸ë‹ˆì²˜, íƒ€ì… ì‹œê·¸ë‹ˆì²˜ë¼ê³  í•œë‹¤!
type A = (a: number, b: number) => number;
```

- í˜¸ì¶œ ì‹œê·¸ë‹ˆì²˜ëŠ” ê°’ì´ ì•„ë‹Œ íƒ€ì… ì •ë³´ë§Œ í¬í•¨í•œë‹¤.
- ë‹¤ë¥¸ íƒ€ì… ì •ì˜ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ê¸°ë³¸ê°’ì€ í‘œí˜„í•  ìˆ˜ ì—†ë‹¤.
- ë°”ë””ë¥¼ í¬í•¨í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ë°˜í™˜ íƒ€ì…ì„ ê¼­ ëª…ì‹œí•´ì•¼í•œë‹¤.
- ex) ì•„ë¬´ê²ƒë„ ë¦¬í„´í•˜ì§€ ì•Šì•„ë„ () => void

```ts
// ì˜ˆì œ
type Log = (msg: string, userId?: string) => void;

let log: Log = (msg, userId = 'ì—¬ê¸°ì„œ ê¸°ë³¸ê°’ ì •ì˜ ê°€ëŠ¥') => {
  console.log(msg, userId);
};

// ë¬¸ë§¥ì  íƒ€ì…í™”
// ìœ„ì—ì„œ msgëŠ” Logë¡œ íƒ€ì…ì¶”ë¡ ì´ ê°€ëŠ¥í–ˆê¸°ì—, ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì„ ëª…ì‹œâŒ
function times(f: (index: number) => void, n: number) {
  console.log(n);
}

// â­•ï¸
times((n) => console.log(n), 2);
// âŒ
function f(n) {
  // ì—¬ê¸°ì„œ nì˜ íƒ€ì…ì´ ì•”ë¬µì ìœ¼ë¡œ anyê°€ ëœë‹¤.
  // numberë¡œ ì¶”ë¡ ì´ ë¶ˆê°€í•˜ë‹¤
  console.log(n);
}
times(f, 4);

// ê·¸ëŸ¬ë¯€ë¡œ ì¸ë¼ì¸ìœ¼ë¡œ í˜¸ì¶œí•˜ë„ë¡ í•œë‹¤!
```

## í•¨ìˆ˜ ì˜¤ë²„ë¡œë“œ

- í˜¸ì¶œ ì‹œê·¸ë‹ˆì²˜ê°€ ì—¬ëŸ¬ ê°œì¸ í•¨ìˆ˜
- ì¸ìˆ˜ íƒ€ì…ì— ë”°ë¼ ë°˜í™˜ íƒ€ì…ì´ ë‹¬ë¼ì§ˆ ë•Œê°€ ìˆëŠ”ë°, ê·¸ëŸ´ ë•Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•

```ts
type Reserve = {
  (from: Date, to: Date, destination: string): Reservation;
  (from: Date, destination: string): Reservation;
};

// ì¡°í•©ëœ ì˜¤ë²„ë¡œë“œ ì‹œê·¸ë‹ˆì²˜ê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ ê²½ìš°
// í˜¸ì¶œì ê´€ì ì—ì„œ ì•„ë˜ì˜ íƒ€ì…ì€ ì˜¤ë²„ë¡œë“œ ì‹œê·¸ë‹ˆì²˜ë“¤ì˜ ìœ ë‹ˆì˜¨ì´ ëœë‹¤.
// íƒ€ì… ì—ëŸ¬ ë°œìƒ - íƒ€ì… ìë™ ì¶”ë¡ ì´ ë˜ì§€ì•Šê¸° ë•Œë¬¸
let reserve: Reserve = (from, to, destination) => {};

// ê·¸ëŸ¼ ì–´ë–»ê²Œ ê³ ì³ì•¼í• ê¹Œ?
let reserve: Reserve = (
  from: Date,
  toOrDestination: Date | string,
  destination?: string
) => {};

// ì˜¤ë²„ë¡œë“œ ì‹œê·¸ë‹ˆì²˜ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ìœ ì§€í•´ì•¼í•˜ëŠ” ì´ìœ ?
// êµ¬í˜„ì‹œ ì¼ì´ ì¤„ì–´ë“¤ê¸° ë•Œë¬¸!
let reserve: Reserve = (
  from: Date,
  toOrDestination: Date | string,
  destination?: string
) => {
  // ì´ì™€ ê°™ì€ ì‘ì—…ì´ í•„ìš”ì—†ì–´ì§„ë‹¤.
  if (from instanceof Date) {
    return from.getMonth();
  }
  // ì•„ë˜ì™€ ê°™ì´ ë°”ë¡œ ë¦¬í„´ê°€ëŠ¥!
  return from.getMonth();
};
```

## ì œë„¤ë¦­ Generic

### êµ¬ì²´ íƒ€ì…ì´ë€?

> - boolean
> - string
> - Date[]
> - {a:number}| {b:number}
> - (a:number) => number

```ts
// ë§Œì•½ ì•„ë˜ì˜ Filteríƒ€ì…ì—ì„œ numberê°€ ì•„ë‹Œ,
// string, objectë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ìœ¼ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?
type Filter = {
  (array: number[], f: (n: number) => boolean): number[];
};
```

### êµ¬ì²´ íƒ€ì…ì—ì„œ ë²—ì–´ë‚˜ íƒ€ì…ì„ ì‚¬ìš©ìì—ê²Œ ìœ„ì„í•´ì•¼í•  ë•Œ, ì œë„¤ë¦­ì„ ì‚¬ìš©í•œë‹¤!

```ts
// ì‚¬ìš© ë°©ë²•
// [1]
type Filter = {
  <T>(array: T[], f: (n: T) => boolean): T[];
};

// [2]
type Filter<T> = {
  (array: T[], f: (n: T) => boolean): T[];
};

// [3]
function filter<T>(array: T[], f: (n: T) => boolean): T[] {}
```

- ì‹œê°„ì´ ìˆë‹¤ë©´?
  ì§ì ‘ Array.map() ì˜ íƒ€ì…ì„ êµ¬í˜„í•´ë³´ì!

```ts
// ì œë„¤ë¦­ë„ íƒ€ì… ì¶”ë¡ ì´ ê°€ëŠ¥í•˜ë©°, ëª…ì‹œì ìœ¼ë¡œë„ í•œì •ê°€ëŠ¥í•˜ë‹¤.
const promise = new Promise<User>();

// ê¸°ë³¸ê°’ ì§€ì • ê°€ëŠ¥
// ì´ë•Œ ë‘ê°œì˜ íƒ€ì… ë§¤ê°œ ë³€ìˆ˜ê°€ ìˆë‹¤ë©´, ê¸°ë³¸ê°’ì€ í•­ìƒ ì œì¼ë’¤ë¡œ ê°€ì•¼í•œë‹¤.
type Num<T = 1> = {
  num: T;
};
const num: Num = { num: 3 }; //ERROR
```

### ë‹¤í˜•ì„±

- ì„œë¸Œíƒ€ì…ì„ ì¸ìˆ˜ë¡œ ë°›ì•„ ê°™ì€ ì„œë¸Œíƒ€ì…ì„ ë°˜í™˜í•  ë•Œ
- ex) ì´ì§„íŠ¸ë¦¬

```ts
function mapNode<T extends TreeNode>(node: T, f: (value: string) => string): T {
  return {
    ...node,
    value: f(node.value),
  };
}
// extendsë¥¼ ìƒëµí•  ê²½ìš°, Tíƒ€ì…ì— ëŒ€í•œ ìƒí•œ ê²½ê³„ê°€ ì—†ì–´ì§€ë¯€ë¡œ
// node.valueë¥¼ ì½ëŠ” í–‰ìœ„ê°€ ì•ˆì „í•˜ì§€ ì•Šê²Œ ë˜ê³  ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
// ì„œë¸Œíƒ€ì…ì •ë³´ë¥¼ ìœ ì§€í•  ìˆ˜ ì—†ê²Œ ëœë‹¤. p.92 a,b,c
```
#
# 5ì¥. í´ë˜ìŠ¤ì™€ ì¸í„°í˜ì´ìŠ¤

- ê°ì²´ì§€í–¥ í•„ìˆ˜ ì–‘ì‹, í´ë˜ìŠ¤
- í´ë˜ìŠ¤
  - ìº¡ìŠí™”ì˜ ì£¼ìš” ë‹¨ìœ„
  - í´ë˜ìŠ¤ì˜ ì£¼ìš” ê¸°ëŠ¥ì€ ëŒ€ë¶€ë¶„ C#ì—ì„œ ê°€ì ¸ì™”ìŒ

  - ë©”ì„œë“œë“¤ì„ ì™¸ë¶€ì—ì„œ í´ë˜ìŠ¤ë¡œ ì£¼ì…, Object.assign ì´ìš©

- í´ë˜ìŠ¤ì˜ ê¸°ëŠ¥ë“¤
  - ëŸ°íƒ€ì„ì—ë„ ì¡´ì¬ : í”„ë¡œí¼í‹° ì´ˆê¸°ì, ë°ì½”ë ˆì´í„° ë“±
    - ìë°”ìŠ¤í¬ë¦½íŠ¸ ê¸°ëŠ¥ë“¤
  - ì»´íŒŒì¼ì—ë§Œ ì¡´ì¬ : ê°€ì‹œì„± ì ‘ê·¼ì, ì¸í„°í˜ì´ìŠ¤, ì œë„¤ë¦­ ë“±

## 5.1 í´ë˜ìŠ¤ì™€ ìƒì†

- ì²´ìŠ¤ ì—”ì§„ì„ ë§Œë“¤ì–´ë³´ì

```ts
// Piece í´ë˜ìŠ¤ì— ìƒ‰ê³¼ ìœ„ì¹˜ë¥¼ ì¶”ê°€
type Color = "Black" | "White";
type XAxis = "A" | "B" | "C" | "D" | "E" | "F" | "G" | "H";
type YAxis = 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8;

// ì²´ìŠ¤ ë§ì˜ ì¢Œí‘œ ì§‘í•©
class Position {
  constructor(private xAxis: XAxis, private yAxis: YAxis) {}
}

// ì²´ìŠ¤ ë§
abstract class Piece {
  protected position: Position;
  constructor(private readonly color: Color, xAxis: XAxis, yAxis: YAxis) {
    this.position = new Position(xAxis, yAxis);
  }

  moveTo(position: Position) {
    this.position = position;
  }
  abstract canMoveTo(position: Position): boolean;
}
```

- ìƒì„±ìì˜ ì ‘ê·¼ í•œì •ìëŠ” ìë™ìœ¼ë¡œ ë³€ìˆ˜ë¥¼ thisì— í• ë‹¹
- Piece í´ë˜ìŠ¤ì˜ protected : privateê³¼ ë‹¬ë¦¬ ì¸ìŠ¤í„´ìŠ¤ì™€ ì„œë¸Œ(ìì‹)í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ ëª¨ë‘ì— ì ‘ê·¼ì„ í—ˆìš© (X)
  - protected : í•´ë‹¹ í´ë˜ìŠ¤ì™€ ìì‹í´ë˜ìŠ¤ì—ì„œëŠ” ì ‘ê·¼ ê°€ëŠ¥í•˜ì§€ë§Œ ì¸ìŠ¤í„´ìŠ¤(ì™¸ë¶€)ì—ì„  ì ‘ê·¼ ë¶ˆê°€ëŠ¥

#### ì ‘ê·¼ í•œì •ì

- public : ì–´ë””ì—ì„œë‚˜ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ì£¼ì–´ì§€ëŠ” ì ‘ê·¼ ìˆ˜ì¤€
- protected : ì´ í´ë˜ìŠ¤ì™€ ì„œë¸Œí´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ì—ì„œë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤
- private : ì´ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ì—ì„œë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤

#### abstract class

- ì§ì ‘ ì¸ìŠ¤í„´ìŠ¤í™”ë¥¼ ì‹œë„í•˜ë©´ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚´
- ì¸ìŠ¤í„´ìŠ¤í™” í•  ìˆ˜ ì—†ê³ 
- í•„ìš”í•œ ë©”ì„œë“œë¥¼ ì¶”ìƒ í´ë˜ìŠ¤ì— ììœ ë¡­ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆìŒ

- moveToì™€ ê°™ì´ ê¸°ë³¸ êµ¬í˜„ì„ í¬í•¨í•  ìˆ˜ ìˆë‹¤(í•„ìš”í•˜ë‹¤ë©´ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë“œ í•  ìˆ˜ ìˆë‹¤)

  - ë©”ì„œë“œì— ì ‘ê·¼ í•œì •ìë¥¼ ì¶”ê°€í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ì ìœ¼ë¡œ publicì´ë‹¤

- canMoveTo : ì¶”ìƒ ë©”ì„œë“œ => abstract í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ëŠ” í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ë©”ì„œë“œ
- String.prototype.charCodeAt(index) : charCodeAt() ë©”ì„œë“œëŠ” ì§€ì •ëœ ì¸ë±ìŠ¤ì—ì„œ UTF-16 ì½”ë“œ ë‹¨ìœ„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” 0ì—ì„œ 65535 ì‚¬ì´ì˜ ì •ìˆ˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
  - 'ğŸ˜„'.charCodeAt(0) => 55357
  - 'a' => 97
  - 'A' => 65

#### field

- í´ë˜ìŠ¤ í•„ë“œ(í”„ë¡œí¼í‹°)ë¥¼ ì„ ì–¸í•  ë•Œ readonlyë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤
  - Piece í´ë˜ìŠ¤ì˜ color

## 5.2 super

- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì²˜ëŸ¼ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë„ super í˜¸ì¶œì„ ì§€ì›í•œë‹¤
- ìì‹ í´ë˜ìŠ¤ê°€ ë¶€ëª¨ í´ë˜ìŠ¤ì— ì •ì˜ëœ ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œí•˜ë©´ ìì‹ ì¸ìŠ¤í„´ìŠ¤ëŠ” superë¥¼ ì´ìš©í•´ ë¶€ëª¨ë²„ì „ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤
- super í˜¸ì¶œ ì˜ˆì‹œ
  - super.take
  - ìƒì„±ì í•¨ìˆ˜ì—ì„œë§Œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” super()
    - ìì‹ í´ë˜ìŠ¤ì— ìƒì„±ì í•¨ìˆ˜ê°€ ìˆë‹¤ë©´ super()ë¥¼ í˜¸ì¶œí•´ì•¼ ë¶€ëª¨ í´ë˜ìŠ¤ì™€ ì •ìƒì ìœ¼ë¡œ ì—°ê²°ëœë‹¤
      - ì´ í˜¸ì¶œì„ ê¹œë°• ìŠìœ¼ë©´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ê²½ê³ ë¥¼ í•´ì¤€ë‹¤
    - ìì‹ í´ë˜ìŠ¤ì—ì„œ ìƒì„±ìë¥¼ ìƒëµí•˜ê³  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ë©´ ë¶€ëª¨í´ë˜ìŠ¤ì˜ ìƒì„±ìí•¨ìˆ˜(super)ê°€ ì‹¤í–‰ëœë‹¤

## 5.3 thisë¥¼ ë°˜í™˜ íƒ€ì…ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸°

```ts
class Set {
  add(value: number): this {
    // ...
  }
}
```

- this : í•´ë‹¹ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤
  - thisë¥¼ ë°˜í™˜íƒ€ì…ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ë„ ìˆë‹¤

## 5.4 ì¸í„°í˜ì´ìŠ¤

- í´ë˜ìŠ¤ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ì‚¬ìš©í•  ë•Œê°€ ë§ë‹¤
- íƒ€ì… ë³„ì¹­(type, type alias)ê³¼ ê°™ì´ ì¸í„°í˜ì´ìŠ¤ë„ íƒ€ì…ì— ì´ë¦„ì„ ì§€ì–´ì£¼ëŠ” ìˆ˜ë‹¨ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤
  - typeê³¼ interfaceëŠ” ê±°ì˜ ê°™ì€ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œë‹¤

### type vs. interface

#### ê³µí†µì 

- íƒ€ì… ì„ ì–¸

```ts
type Food = {
  calories: number;
  tasty: boolean;
};

interface Food {
  calories: number;
  tasty: boolean;
}
```

#### ì°¨ì´ì 

- íƒ€ì… í™•ì¥

```ts
// typeì—ì„œ í™•ì¥ : &
type Food = {
  calories: number;
  tasty: boolean;
};

type Sushi = Food & {
  salty: boolean;
};

// interfaceì—ì„œ í™•ì¥ : extends
interface Food {
  calories: number;
  tasty: boolean;
}

interface Sushi extends Food {
  salty: boolean;
}
```

- ì¸í„°í˜ì´ìŠ¤ëŠ” ê°ì²´íƒ€ì…, í´ë˜ìŠ¤, ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤ ëª¨ë‘ë¥¼ ìƒì†ë°›ì„ ìˆ˜ ìˆë‹¤

```ts
// ì¸í„°í˜ì´ìŠ¤ë¡  ì•„ë˜ì™€ ê°™ì€ íƒ€ì…ì„ ì‘ì„±í•  ìˆ˜ ì—†ë‹¤
type A = number;
type B = A | string;
```

### 5.4.1 ì„ ì–¸ í•©ì¹¨

```ts
interface User {
  name: string;
}

interface User {
  age: number;
}

const aUser: User = {
  name: "Luma",
  age: 30,
};
```

- interfaceëŠ” ì¤‘ë³µ ì„ ì–¸ì´ ê°€ëŠ¥í•˜ê³  ê²¹ì¹˜ì§€ ì•Šìœ¼ë©´ í•©ì³ì§„ë‹¤

```ts
type User = {
  name: string;
};

type User = {
  // ì—ëŸ¬ => ì¤‘ë³µëœ ì‹ë³„ì
  age: number;
};
```

- typeì€ ì¤‘ë³µì„ ì–¸ì„ í•  ìˆ˜ ì—†ë‹¤

### 5.4.2 êµ¬í˜„

```ts
{
  interface Animal {
    // readonly name: string;
    eat: (food: string) => void;
    sleep(hours: number): void;
  }

  interface Feline {
    meow: () => void;
  }

  class Cat implements Animal, Feline {
    eat(food: string) {
      console.info("Ate some", food, ". Mmm!");
    }
    sleep(hours: number) {
      console.info("Slept for", hours, "hours");
    }
    meow: () => void;
  }
}
{
  type Animal = {
    // readonly name: string;
    eat: (food: string) => void;
    sleep(hours: number): void;
  };

  type Feline = {
    meow: () => void;
  };

  // typeë„ í´ë˜ìŠ¤ì—ì„œ interfaceì™€ ë™ì¼í•˜ê²Œ implements ë  ìˆ˜ ìˆìŒ
  class Cat implements Animal, Feline {
    eat(food: string) {
      console.info("Ate some", food, ". Mmm!");
    }
    sleep(hours: number) {
      console.info("Slept for", hours, "hours");
    }
    meow: () => void;
  }
}
// readonly ë‘˜ë‹¤ ì‚¬ìš© ê°€ëŠ¥
```

### 5.4.3 ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ vs. ì¶”ìƒ í´ë˜ìŠ¤ ìƒì†

- ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ê³¼ ì¶”ìƒ í´ë˜ìŠ¤ ìƒì†ì€ ì•„ì£¼ ë¹„ìŠ·í•˜ì§€ë§Œ
- ì¸í„°í˜ì´ìŠ¤ê°€ ë” ë²”ìš©ì ìœ¼ë¡œ ì“°ì´ê³  ê°€ë³ë‹¤
- ì¶”ìƒ í´ë˜ìŠ¤ëŠ” íŠ¹ë³„í•œ ëª©ì ê³¼ í’ë¶€í•œ ê¸°ëŠ¥ì„ ê°–ëŠ”ëŠ” ê²ƒì´ ì¥ì ì´ë‹¤
- ì¸í„°í˜ì´ìŠ¤ëŠ” ì»´íŒŒì¼ íƒ€ì„ì—ë§Œ ì¡´ì¬í•œë‹¤
- ì¶”ìƒ í´ë˜ìŠ¤ëŠ” ëŸ°íƒ€ì„ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ í´ë˜ìŠ¤ ì½”ë“œë¥¼ ë§Œë“ ë‹¤

- ë‘ ê°œ ë‹¤ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤

```ts
class King extends Piece implements Point {}
```

## 5.5 í´ë˜ìŠ¤ëŠ” êµ¬ì¡° ê¸°ë°˜ íƒ€ì…ì„ ì§€ì›í•œë‹¤

- ì´ë¦„ì´ ë‹¬ë¼ë„ ê·¸ ì•ˆì˜ êµ¬ì¡°ê°€ ê°™ë‹¤ë©´ êµì°¨ ì‚¬ìš©ì´ í—ˆìš©ëœë‹¤

```ts
class Zebra {
  private trot() {
    console.log("zebra");
  }
}

class Poodle {
  private trot() {
    console.log("poodle");
  }
}

function ambleAround(animal: Zebra) {
  animal.trot();
}

const zebra = new Zebra();
const poodle = new Poodle();

ambleAround(zebra); // OK
ambleAround(poodle); // OK
```

## 5.6 í´ë˜ìŠ¤ëŠ” ê°’ê³¼ íƒ€ì…ì„ ëª¨ë‘ ì„ ì–¸í•œë‹¤.

```ts
// ê°’ ë˜ëŠ” íƒ€ì…ì¸ ê²½ìš°
// ê°’
let a = 999;

// íƒ€ì…
type a = number;

// ë¬¸ë§¥ìƒ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ê°’ aë¡œ ì¶”ë¡ í•˜ê¸°ë„ í•œë‹¤
if (a + 1 > 3)
  // ê°’ê³¼ íƒ€ì…ì„ ë™ì‹œì— ìƒì„±í•˜ëŠ” ê²½ìš° - class, enum
  class C {}
const c: C = new C(); // C(class)ëŠ” íƒ€ì…ì´ë©´ì„œ ë™ì‹œì— ê°’(ìƒì„±ì í•¨ìˆ˜)ì´ë‹¤

const Week = { Monday: 1 };
const day: Week = Week.Monday; // Week(enum)ì€ íƒ€ì…ì´ë©´ì„œ ë™ì‹œì— ê°’(enum)ì´ë‹¤
```

## 5.7 ë‹¤í˜•ì„±

- classì—ì„œë„ ì œë„¤ë¦­ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤

```ts
class MyMap<K, V> {
  constructor(initialKey: K, initialValue: V) {
    // ...
  }
  get(key: K): V {
    // ...
  }
  set(key: K, value: V): void {
    // ...
  }
  // ...
}
```

## 5.8 ë¯¹ìŠ¤ì¸

- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ trait, mixin í‚¤ì›Œë“œë¥¼ ì œê³µí•˜ì§€ ì•Šì§€ë§Œ ì†ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤
- ë¯¹ìŠ¤ì¸ : ë™ì‘ê³¼ í”„ë¡œí¼í‹°ë¥¼ í´ë˜ìŠ¤ë¡œ í˜¼í•©(mix)í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” íŒ¨í„´
  - ë¯¹ìŠ¤ì¸ ê·œì¹™
    - ìƒíƒœë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤(e.g., ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œí¼í‹°)
    - êµ¬ì²´ ë©”ì„œë“œë§Œ ì œê³µí•  ìˆ˜ ìˆë‹¤(ì¶”ìƒ ë©”ì„œë“œëŠ” ì•ˆ ë¨)
    - ìƒì„±ìë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤(í´ë˜ìŠ¤ê°€ í˜¼í•©ëœ ìˆœì„œì™€ ê°™ì€ ìˆœì„œë¡œ í˜¸ì¶œë¨)

## 5.9 ë°ì½”ë ˆì´í„°

- ì¥ì‹í•˜ëŠ” ëŒ€ìƒì˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ë¬¸ë²•

```ts
@serializable
class APIPayLoad {
  getValue(): Payload {
    // ...
  }
}

// ìœ„ì™€ ë™ì¼í•œ ì½”ë“œ
let APIPayload = serializable(
  class APIPayLoad {
    getValue(): Payload {
      // ...
    }
  }
);
```

- @serializableì€ APIPayLoadë¥¼ ê°ì‹¸ê³  ìˆìœ¼ë©° ì„ íƒì ìœ¼ë¡œ ì´ë¥¼ ëŒ€ì²´í•˜ëŠ” ìƒˆ í´ë˜ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤
- serializableì´ë¼ëŠ” í•¨ìˆ˜ì˜ parameterë¡œ ë°ì½”ë ˆì´í„° ì•„ë˜ì— ìˆëŠ” ê²ƒì„ ë°›ì€ í›„
  - serializableì„ ì‹¤í–‰ ì‹œí‚¤ê³ 
  - ê·¸ returnê°’ì„ APIPayloadë¡œ ì „ë‹¬

#### more about decorator

- [5-9_decorator](./5-9_decorator.md)

## 5.10 final í´ë˜ìŠ¤ í‰ë‚´ë‚´ê¸°

- final í´ë˜ìŠ¤ : í´ë˜ìŠ¤ë‚˜ ë©”ì„œë“œë¥¼ í™•ì¥í•˜ê±°ë‚˜ ì˜¤ë²„ë¼ì´ë“œí•  ìˆ˜ ì—†ê²Œ ë§Œë“œëŠ” ê¸°ëŠ¥
- privateìœ¼ë¡œ ìƒì„±ìë¥¼ ë§Œë“œëŠ” ê²ƒê³¼ static ë©”ì„œë“œë¥¼ ì´ìš©í•´ì„œ final í´ë˜ìŠ¤ë¥¼ í‰ë‚´ë‚¼ ìˆ˜ ìˆë‹¤

## 5.11 ë””ìì¸ íŒ¨í„´

### 5.11.1 íŒ©í† ë¦¬ íŒ¨í„´

ì–´ë–¤ ê°ì²´ë¥¼ ë§Œë“¤ì§€ ì „ì ìœ¼ë¡œ íŒ©í† ë¦¬ì— ìœ„ì„í•œë‹¤

```ts
// factory pattern
// type ëŒ€ì‹  interfaceë¥¼ ì´ìš©í•´ë„ ë¨
type Shoe = {
  purpose: string;
};

class BalletFlat implements Shoe {
  purpose = "dancing";
}

class Boot implements Shoe {
  purpose = "woodcutting";
}

class Sneaker implements Shoe {
  purpose = "walking";
}

const Shoe = {
  create(type: "balletFlat" | "boot" | "sneaker") {
    switch (type) {
      case "balletFlat":
        return new BalletFlat();
      case "boot":
        return new Boot();
      case "sneaker":
        return new Sneaker();
      default:
        throw new Error("unexpected type");
    }
  },
};

const balletFlat: BalletFlat = Shoe.create("balletFlat");
```

### 5.11.2 ë¹Œë” íŒ¨í„´

- ES6ì˜ Map, Set ë“±ì˜ ìë£Œ êµ¬ì¡°ì—ì„œë„ ì‚¬ìš©

```ts
new RequestBuilder()
  .setURL("/users")
  .setMethod("get")
  .setData({ firstName: "Tony" })
  .send();
```
