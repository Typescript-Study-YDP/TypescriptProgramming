# 내용 정리

## 8장. 비동기 프로그래밍, 동시성과 병렬성

### 8.1 자바스크립트의 이벤트 루프

- 메인 자바스크립트 스레드는 XMLHTTPRequest, setTimeout, readFile 등의 네이티브 비동기 API를 호출한다.
- 네이티브 비동기를 호출한 이후에 다시 메인 스레드로 제어가 반환되며 마지막 실행됐던 지점부터 코드가 다시 실행된다.
- 비동기 작업이 완료되면 플랫폼은 태스크를 이벤트 큐에 추가한다.
- 메인 스레드의 콜 스택이 비면 플랫폼은 이벤트 큐에 남아 있는 태스크가 있는지 확인하고, 대기 중인 태스크가 있으면 플랫폼은 그 태스크를 실행한다. 함수 호출이 끝나고 콜스택이 다시 비면 플랫폼은 다시 기다리는 태스크가 있는지 이벤트 큐에서 확인한다. 콜 스택과 이벤트 큐가 모두 비고, 모든 비동기 네이티브 API 호출이 완료될 때까지 이 과정을 반복한다.

### 8.2 콜백 사용하기

- 비동기 자바스크립트 프로그램의 기본 단위는 콜백이다.
- 여러 동작을 연달아 실행할 때 보통 한 동작이 성공했을 때만 다음 동작으로 이어가고, 에러가 발생하면 즉시 빠져나와야 할 때가 많다. 콜백을 이용하면 이런 제어를 수동으로 처리해야 한다.
- 비동기 동작 여러 개를 이어 붙이는 것도 유용하지만, 때로는 함수들을 병렬로 실행시킨 후 모두가 완료됐을 때 통지하도록 하거나, 서로 경쟁시켜 가장 먼저 끝난 작업 결과를 이용하는 등의 방식으로 활용할 수도 있다.

### 8.3 프로미스로 정상 회복하기

- Promise를 통해 콜백 피라미드가 등장하기 않게 구현할 수가 있다. 이처럼 Promise는 주로 콜백 지옥(callback hell)을 해결하기 위해 사용된다.

### 8.4 async와 await

- async - await 문법을 통해 마치 동기 작업을 다루듯이 비동기 작업을 처리할 수 있다.

### 8.5 비동기 스트림

- 여러 개의 데이터로 이루어지고, 각각의 데이터를 미래의 어떤 시점에 받게 되는 상황이라면 이를 이벤트 방출기 혹은 ExJS와 같은 리액티브 라이브러리를 이용할 수 있다.
- 이벤트 방출기는 채널로 이벤트를 방출하고 채널에서 발생하는 이벤트를 리스닝하는 API를 제공한다.
  - 방출기의 타입을 지정하면 오타나 인수 전달에서의 실수를 방지해 줄 수 있으며, 문서화 역할도 할 수가 있다.

### 8.6 타입 안전 멀티스레딩

- 브라우저에서 웹 워커를 이용해 멀티스레딩 작업을 할 수가 있다. 메인 자바스크립트 스레드가 블록되는 상황을 막기위해 워커 스레드를 만들기도 한다. 이처럼 안전성을 위해 사용한다.

## 9장. 프론트엔드 프레임워크와 백엔드 프레임워크

### 9.1 프론트엔드 프레임워크

- 타입스크립트는 프론트엔드 응용 프로그램 개발에 아주 적합하다. 실무에서는 DOM 렌더링, 데이터 바인딩, 이벤트 처리 등 추상화하는 데 프레임워크를 사용하기 때문에 아래에서 다룬다.

#### 리액트

- 리액트의 컴포넌트는 타입스크립트로 정의되고 소비되므로 안전하다.
- 또한 리액트에서는 자바스크립트 XML이라는 특별한 DSL을 이용해 뷰를 정의하고 자바스크립트 코드에 바로 삽입할 수 있다. 이를 이용하면 일반 HTML처럼 보이는 코드를 구현할 수 있고, 이렇게 구현한 코드는 자동으로 자바스크립트 엔진에서 실행할 수 있는 타입으로 컴파일 된다는 것이 장점이다. 그리고 타입스크립트에서는 tsx라는 파일 확장자를 통해 타입스크립트를 사용할 수 있다.

```
// tsconfig.json
{
  "complierOptions": {
    "jsx": "react"
  }
}
```

1. 리액트에서 TSX를 사용하려면 현재 유효범위에서 React 변수로 사용할 수 있도록 자여와야 한다.
2. 컴포넌트에 전달할 수 있는 프로퍼티 집합을 선언한다. 이때 이름은 Props로 짓는 것이 규칙이다.
3. 리액트는 DOM 이벤트들을 위한 고유의 래퍼 타입 집합을 제공한다. 리액트 이벤트를 사용할 때 일반 DOM 이벤트 타입 대신 리액트의 이벤트 타입을 사용해야 한다.

#### 앵귤러

- 앵귤러는 태생적으로 타입스크립트로 동작하도록 만들어졌다.
- 컴포넌트는 리액트와 마찬가지로 DOM 구조, 스타일, 컨트롤러를 묘사할 수 있는 수단을 포함한다.

### 9.2 타입 안전 API

- HTTP, TCP, 소켓 기반 프로토콜처럼 타입을 사용하지 않는 네트워크 프로토콜로 통신해야 할 수도 있다. 이는 타입 안전성을 제공하는 프로토콜을 직접 개발함으로써 구현할 수 있다.

### 9.3 백엔드 프레임워크

---

Q. 자바스크립트는 싱글 스레드 언어라고 하는데, 이때 싱글 스레드에 대해서 설명해주세요. (212, 228)

Q. 뮤텍스, 세마포어란?

Q. 자바스크립트 비동기 작업을 위한 콜백 함수의 단점은?

Q. 연이는 혹은 병령 실행이 필요한 더 복잡한 작업에는 프로미스와 async/await를 이용할 수 있다? 정말?

Q. 자바스크립트 이벤트 루프에 대해서 설명해주세요!

Q. 자바스크립트 XML(JavaScript XML, JSX) 파일 확장자와 .js 확장자의 차이는 무엇인가요?

Q. 컴파일이란?

Q. 앵귤러는 의존성 주입 기능을 기본으로 제공한다고 한다. 그리고 이를 통해 단위 테스트가 쉬워진다고 하는데 왜,,,?(255)

Q. 라이브러리와 프레임워크의 차이점은?

Q. HTTP란? (257)
